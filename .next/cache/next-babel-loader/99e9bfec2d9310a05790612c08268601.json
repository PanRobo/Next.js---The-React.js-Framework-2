{"ast":null,"code":"import { withIronSession } from \"next-iron-session\";\nconst VALID_EMAIL = \"chris@decimal.fm\";\nconst VALID_PASSWORD = \"opensesame\";\nexport default withIronSession(async (req, res) => {\n  if (req.method === \"POST\") {\n    const {\n      email,\n      password\n    } = req.body;\n\n    if (email === VALID_EMAIL && password === VALID_PASSWORD) {\n      req.session.set(\"user\", {\n        email\n      });\n      await req.session.save();\n      return res.status(201).send(\"\");\n    }\n\n    return res.status(403).send(\"\");\n  }\n\n  return res.status(404).send(\"\");\n}, {\n  cookieName: \"MYSITECOOKIE\",\n  cookieOptions: {\n    secure: \"development\" === \"production\" ? true : false\n  },\n  password: \"asdfkljhqkfydjtludhtlknedotokrow\"\n});","map":{"version":3,"sources":["/home/runner/Nextjs-The-Reactjs-Framework-2/pages/api/sessions.js"],"names":["withIronSession","VALID_EMAIL","VALID_PASSWORD","req","res","method","email","password","body","session","set","save","status","send","cookieName","cookieOptions","secure"],"mappings":"AAAA,SAASA,eAAT,QAAgC,mBAAhC;AAEA,MAAMC,WAAW,GAAG,kBAApB;AACA,MAAMC,cAAc,GAAG,YAAvB;AAEA,eAAeF,eAAe,CAC5B,OAAOG,GAAP,EAAYC,GAAZ,KAAoB;AAClB,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB,UAAM;AAAEC,MAAAA,KAAF;AAASC,MAAAA;AAAT,QAAsBJ,GAAG,CAACK,IAAhC;;AAEA,QAAIF,KAAK,KAAKL,WAAV,IAAyBM,QAAQ,KAAKL,cAA1C,EAA0D;AACxDC,MAAAA,GAAG,CAACM,OAAJ,CAAYC,GAAZ,CAAgB,MAAhB,EAAwB;AAAEJ,QAAAA;AAAF,OAAxB;AACA,YAAMH,GAAG,CAACM,OAAJ,CAAYE,IAAZ,EAAN;AACA,aAAOP,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAArB,CAAP;AACD;;AAED,WAAOT,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAArB,CAAP;AACD;;AAED,SAAOT,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAArB,CAAP;AACD,CAf2B,EAgB5B;AACEC,EAAAA,UAAU,EAAE,cADd;AAEEC,EAAAA,aAAa,EAAE;AACbC,IAAAA,MAAM,EAAE,kBAAkB,YAAlB,GAAiC,IAAjC,GAAwC;AADnC,GAFjB;AAKET,EAAAA,QAAQ,EAAE;AALZ,CAhB4B,CAA9B","sourcesContent":["import { withIronSession } from \"next-iron-session\";\n\nconst VALID_EMAIL = \"chris@decimal.fm\";\nconst VALID_PASSWORD = \"opensesame\";\n\nexport default withIronSession(\n  async (req, res) => {\n    if (req.method === \"POST\") {\n      const { email, password } = req.body;\n\n      if (email === VALID_EMAIL && password === VALID_PASSWORD) {\n        req.session.set(\"user\", { email });\n        await req.session.save();\n        return res.status(201).send(\"\");\n      }\n\n      return res.status(403).send(\"\");\n    }\n\n    return res.status(404).send(\"\");\n  },\n  {\n    cookieName: \"MYSITECOOKIE\",\n    cookieOptions: {\n      secure: \"development\" === \"production\" ? true : false\n    },\n    password: \"asdfkljhqkfydjtludhtlknedotokrow\"\n  }\n);"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nvar _jsxFileName = \"/home/runner/Nextjs-The-Reactjs-Framework-2/pages/signin.js\";\nvar __jsx = React.createElement;\nimport React, { useRef } from \"react\";\nimport { useRouter } from \"next/router\";\n\nvar SignInPage = function SignInPage() {\n  var router = useRouter();\n  var emailInput = useRef();\n  var passwordInput = useRef();\n\n  var handleSubmit = function handleSubmit(e) {\n    var email, password, response;\n    return _regeneratorRuntime.async(function handleSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n            email = emailInput.current.value;\n            password = passwordInput.current.value;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(fetch(\"/api/sessions\", {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: _JSON$stringify({\n                email: email,\n                password: password\n              })\n            }).then());\n\n          case 5:\n            response = _context.sent;\n\n            if (!response.ok) {\n              _context.next = 9;\n              break;\n            }\n\n            console.log('we good');\n            return _context.abrupt(\"return\", router.push(\"/private\"));\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  return __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Email: \", __jsx(\"input\", {\n    type: \"text\",\n    ref: emailInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }))), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Password: \", __jsx(\"input\", {\n    type: \"password\",\n    ref: passwordInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }))), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Sign in\")));\n};\n\nexport default SignInPage;","map":{"version":3,"sources":["/home/runner/Nextjs-The-Reactjs-Framework-2/pages/signin.js"],"names":["React","useRef","useRouter","SignInPage","router","emailInput","passwordInput","handleSubmit","e","preventDefault","email","current","value","password","fetch","method","headers","body","then","response","ok","console","log","push"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,MAAMC,MAAM,GAAGF,SAAS,EAAxB;AACA,MAAMG,UAAU,GAAGJ,MAAM,EAAzB;AACA,MAAMK,aAAa,GAAGL,MAAM,EAA5B;;AAEA,MAAMM,YAAY,GAAG,SAAfA,YAAe,CAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBA,YAAAA,CAAC,CAACC,cAAF;AAEMC,YAAAA,KAHa,GAGLL,UAAU,CAACM,OAAX,CAAmBC,KAHd;AAIbC,YAAAA,QAJa,GAIFP,aAAa,CAACK,OAAd,CAAsBC,KAJpB;AAAA;AAAA,6CAMIE,KAAK,CAAC,eAAD,EAAkB;AAC5CC,cAAAA,MAAM,EAAE,MADoC;AAE5CC,cAAAA,OAAO,EAAE;AAAE,gCAAgB;AAAlB,eAFmC;AAG5CC,cAAAA,IAAI,EAAE,gBAAe;AAAEP,gBAAAA,KAAK,EAALA,KAAF;AAASG,gBAAAA,QAAQ,EAARA;AAAT,eAAf;AAHsC,aAAlB,CAAL,CAIpBK,IAJoB,EANJ;;AAAA;AAMbC,YAAAA,QANa;;AAAA,iBAYfA,QAAQ,CAACC,EAZM;AAAA;AAAA;AAAA;;AAajBC,YAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AAbiB,6CAcVlB,MAAM,CAACmB,IAAP,CAAY,UAAZ,CAdU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArB;;AAkBA,SACE;AAAM,IAAA,QAAQ,EAAEhB,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACS;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,GAAG,EAAEF,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADT,CADF,CADF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACY;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,GAAG,EAAEC,aAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADZ,CADF,CANF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CAXF,CADF;AAiBD,CAxCD;;AA0CA,eAAeH,UAAf","sourcesContent":["import React, { useRef } from \"react\";\nimport { useRouter } from \"next/router\";\n\nconst SignInPage = () => {\n  const router = useRouter();\n  const emailInput = useRef();\n  const passwordInput = useRef();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const email = emailInput.current.value;\n    const password = passwordInput.current.value;\n\n    const response = await fetch(\"/api/sessions\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email, password })\n    }).then()\n\n    if (response.ok) {\n      console.log('we good')\n      return router.push(\"/private\");\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        <label>\n          Email: <input type=\"text\" ref={emailInput} />\n        </label>\n      </div>\n      <div>\n        <label>\n          Password: <input type=\"password\" ref={passwordInput} />\n        </label>\n      </div>\n      <div>\n        <button type=\"submit\">Sign in</button>\n      </div>\n    </form>\n  );\n};\n\nexport default SignInPage;"]},"metadata":{},"sourceType":"module"}